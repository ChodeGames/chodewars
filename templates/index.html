{% extends "main.html" %}

{% block toolbar %}
<!-- Header navbar -->
<div class="navbar navbar-default navbar-static-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">chodewars</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#about">About</a></li>
      </ul>
      <ul class="nav navbar-nav pull-right">
        <li><a href='#'>{{ user['name'] }}</a></li>
        <li><a href='/logout'>Logout</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>
<!-- End Header navbar -->
{% end %}

<div class="container">
  {% block header %}
    <h1>{{ header_text }}</h1>
  {% end %}

  {% block body %}
    {% if player %}
      <p>Welcome {{player.name}}</p>
      {% if ship and sector %}
        {% module Template('sector.html', sector=sector, player=player, ship=ship, game=game) %}
        <p>Available Warps: 
        {% for available_sector in warps %}
          <!-- TODO: /c/move/sector needs to be escaped, dashes won't work -->
          <a href="/c/move/?sector={{available_sector.id}}">{{ str(available_sector) }}</a>
        {% end %}
        </p>
      {% else %}
        <p>Almost there, you can <a href="/add/home">establish your home sector</a> to claim your space in the universe and start exploring!</p>
      {% end %}
    {% else %}
      <p>Welcome. You will need to <a href="/add/player">create a player</a> before proceeding.</p>
    {% end %}
  {% end %}

  {% block footer %}
      <p>{{ footer_text }}<br><a href='https://github.com/ChodeGames/chodewars'>source</a></p>
  {% end %}
</div>
